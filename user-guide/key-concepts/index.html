<!DOCTYPE html>
<html>
  <head>
    <title>AndHow - strong.valid.simple Application Configuration</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2019-01-16T22:02:33 IST">
<title>Key Concepts :: AndHow - strong.valid.simple Application Configuration</title>
<link rel="shortcut icon" href="/andhow/images/favicon.png" type="image/x-icon" />
<link href="/andhow/css/font-awesome.min.css" rel="stylesheet">
<link href="/andhow/css/nucleus.css" rel="stylesheet">
<link href="/andhow/theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="/andhow/css/bootstrap.min.css">
<script src="/andhow/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/code4t2.github.io\/andhow";
</script>
<meta name="description" content="">



    
  </head>
  <body data-url="/andhow/user-guide/key-concepts/">
    
      <header>
  <div class="logo">
    
	
  
    <a class="baselink" href="https://code4t2.github.io/andhow">AndHow - strong.valid.simple Application Configuration</a>
  


  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://github.com/eeverman/andhow-samples/"  rel="noopener">
                  <i class='fa fa-github'></i> <label>Examples</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/eeverman/andhow/"  rel="noopener">
                  <i class='fa fa-github'></i> <label>Source</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://mvnrepository.com/artifact/org.yarnandtail"  rel="noopener">
                  <i class='fa fa-box'></i> <label>Artifacts</label>
                </a>
            </li>
            <li class="" role="">
                <a href="/andhow/join-discussion"  rel="noopener">
                  <i class='fa fa-bullhorn'></i> <label>Discuss</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/andhow/" class="dd-item">
          <a href="/andhow/">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/andhow/quick-start/" class="dd-item
        ">
      <div>
      <a href="/andhow/quick-start/">Quick Start</a>
      </div>
    </li>
    <li data-nav-id="/andhow/usage-examples/" class="dd-item haschildren
        ">
      <div>
      <a href="/andhow/usage-examples/">Usage Examples</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/andhow/usage-examples/main-startup-example/" class="dd-item">
        <div>
          <a href="/andhow/usage-examples/main-startup-example/">
            main() startup example
          </a>
        </div>
    </li>
      <li data-nav-id="/andhow/usage-examples/load-configuration-from-filesystem/" class="dd-item">
        <div>
          <a href="/andhow/usage-examples/load-configuration-from-filesystem/">
            Load configuration from filesystem
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/andhow/user-guide/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/andhow/user-guide/">User Guide</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/andhow/user-guide/key-concepts/" class="dd-item active">
        <div>
          <a href="/andhow/user-guide/key-concepts/">
            Key Concepts
          </a>
        </div>
    </li>
      <li data-nav-id="/andhow/user-guide/value-loaders/" class="dd-item">
        <div>
          <a href="/andhow/user-guide/value-loaders/">
            Value Loaders
          </a>
        </div>
    </li>
      <li data-nav-id="/andhow/user-guide/andhow-initiation/" class="dd-item">
        <div>
          <a href="/andhow/user-guide/andhow-initiation/">
            AndHow Startup / Initiation
          </a>
        </div>
    </li>
      <li data-nav-id="/andhow/user-guide/legacy-apps/" class="dd-item">
        <div>
          <a href="/andhow/user-guide/legacy-apps/">
            Working with Legacy Apps
          </a>
        </div>
    </li>
      <li data-nav-id="/andhow/user-guide/java9/" class="dd-item">
        <div>
          <a href="/andhow/user-guide/java9/">
            Projects using Java 9&#43;
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/andhow/docs/" class="dd-item
        ">
      <div>
      <a href="/andhow/docs/">Documentation</a>
      </div>
    </li>
    <li data-nav-id="/andhow/join-discussion/" class="dd-item
        ">
      <div>
      <a href="/andhow/join-discussion/">Join the Discussion</a>
      </div>
    </li>
    <li data-nav-id="/andhow/developer/" class="dd-item haschildren
        ">
      <div>
      <a href="/andhow/developer/">Developer</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/andhow/developer/new-workstation-setup/" class="dd-item">
        <div>
          <a href="/andhow/developer/new-workstation-setup/">
            New Workstation Setup
          </a>
        </div>
    </li>
        </ul>
    </li>




    </ul>
    <section>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/andhow/quick-start/" >
   Quick Start</option>
    <option value="/andhow/usage-examples/" >
   Usage Examples</option>
    <option value="/andhow/user-guide/" >
   User Guide</option> 
      <option value="/andhow/user-guide/key-concepts/"  selected>- Key Concepts</option>
      <option value="/andhow/user-guide/value-loaders/" >- Value Loaders</option>
      <option value="/andhow/user-guide/andhow-initiation/" >- AndHow Startup / Initiation</option>
      <option value="/andhow/user-guide/legacy-apps/" >- Working with Legacy Apps</option>
      <option value="/andhow/user-guide/java9/" >- Projects using Java 9&#43;</option>
  
    <option value="/andhow/docs/" >
   Documentation</option>
    <option value="/andhow/join-discussion/" >
   Join the Discussion</option>
    <option value="/andhow/developer/" >
   Developer</option>



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="/andhow/js/lunr.min.js"></script>
        <script type="text/javascript" src="/andhow/js/auto-complete.js"></script>
        <link href="/andhow/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "https:\/\/code4t2.github.io\/andhow";
          
        </script>
        <script type="text/javascript" src="/andhow/js/search.js"></script>
      </div>
    

    <h1>Key Concepts</h1>
    
    
    
    

<p><strong><center> strong.valid.simple Application Configuration </center></strong></p>

<h4 id="andhow-initializes-and-loads-property-values-only-once-at-startup">AndHow initializes and loads property values only once at startup</h4>

<p>Initiation is AndHow&rsquo;s startup/bootstrap process where it discovers discovers all Properties, loads values, and
validates them. This will only be done once in the lifecycle of the application and loaded values will never change.</p>

<p>There is more detail about the initiation process on the <a href="../andhow-initiation">Initiation page</a>.</p>

<h4 id="andhow-respects-java-privacy-modifiers">AndHow respects Java privacy modifiers</h4>

<p>Internally, AndHow maps the property itself to the property&rsquo;s value.  Thus, when a property is declared with a
non-public modifier:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">static</span> StrProp PROP <span style="color:#f92672">=</span> StrProp<span style="color:#f92672">.</span><span style="color:#a6e22e">builder</span><span style="color:#f92672">().</span><span style="color:#a6e22e">build</span><span style="color:#f92672">();</span></code></pre></div>

<p>Only code able to hold a reference to <code>PROP</code> can retrieve it&rsquo;s value.</p>

<h4 id="andhow-fails-fast-and-that-is-a-good">AndHow Fails Fast&hellip; and that is a good</h4>

<blockquote>
<p>Failing fast is a nonintuitive technique: “failing immediately and visibly” sounds like it would make your software
more fragile, but it actually makes it more robust.  Bugs are easier to find and fix, so fewer go into production.
&ndash;<a href="https://martinfowler.com/ieeeSoftware/failFast.pdf">Fail Fast</a>, Jim Shore / Martin Fowler</p>
</blockquote>

<p>A key design principal of AndHow is that a non-deterministic initiation or invalid or missing configuration values
should be detected as early as possible and should be considered fatal.  AndHow implements this in two ways:</p>

<ul>
<li>As discussed above, multiple attempts to initialize AndHow indicate a non-deterministic initiation and will result
in a RuntimeException</li>
<li>During initiation, all values for all properties are validated and a RuntimeException thrown if any property is
invalid<br /></li>
</ul>

<p>The alternative to fail fast would be to fail late. If configuration problems are discovered, for example, only when
they are used, an application might run for a few days, then a feature that hadn&rsquo;t been used up to that point is
accessed and <strong>~BOOM~</strong> its invalid configuration is discovered by bringing the application down. It will probably
be 4AM when you get the call.</p>

<h5 id="andhow-properties-are-static-final-constants-and-behave-that-way">AndHow Properties are static final constants and behave that way</h5>

<p>Just like Java static finals, this means that:</p>

<ul>
<li>A Property and its value are defined across the entire classloader just like a class definition<br /></li>
<li>Property values are immutable:  Once loaded during initiation, the Property values cannot be changed<br /></li>
<li>AndHow Properties can be used to configure application or class behavior, not a particular class instance<br /></li>
</ul>

<p>Think of AndHow Properties as <code>static final</code> constants that pull their value from outside the application.</p>

<h4 id="property-names-are-case-insensitive">Property Names are CaSe InSeNsItIvE</h4>

<p>For compatibility with Windows environment variable names, property names are case insensitive. Proper case names are
still used internally for reporting and when creating configuration sample files.  One exception to this is JNDI,
which is inherently case sensitive.</p>

<h4 id="whitespace-handling">Whitespace Handling</h4>

<p>Whitespace is generally removed from values and each Property has a <code>Trimmer</code> class assigned to it to handle the
trimming. <code>StrProp</code> uses the <code>QuotedSpacePreservingTrimmer</code> and most other properties use the <code>TrimToNullTrimmer</code>.</p>

<p>The <code>TrimToNullTrimmer</code> simply removes all whitespace on either end of a value. If the result is a zero length string,
it becomes null. The QSPT first trims to null, then, if the remaining text begins and ends with double quotes, those
quotes are removed and the string inside the quotes, including whitespace, is preserved as the actual value.</p>

<p>Here are a few examples of the QSPT trimming behavior, using dots (●)to represent whitespace:</p>

<table align=left>
<thead><tr><th><i>With whitespace</i></th><th><i>Whitespace trimmed</i></th><th><i>Explanation</i></th></tr></thead>
<tbody>
<tr><td> ● </td> <td> null </td> <td> (An all whitespace raw value is trimmed to null) </td> </tr>  
<tr><td> ●●●abc●●● </td> <td> abc </td> <td> (whitespace on either side of text removed) </td> </tr>
<tr><td> "●abc●" </td> <td> ●abc● </td> <td> (Quotes are removed and all characters inside preserved) </td> </tr>
<tr><td> ●"●abc●"● </td> <td> ●abc● </td> <td> (same result - whitespace outside the quotes is removed) </td> </tr>
<tr><td> ●a "word" here● </td> <td> a "word" here </td> <td> (No special quote handling here - there is text outside the quotes) </td> </tr>
<tr><td> ●"●a "word" here●"● </td> <td> ●a "word" here● </td> <td> (After trimming outer whitespace, start and & dbl quotes were found) </td> </tr>
<tr><td> ●""● </td> <td> Empty String </td> <td> (Using quotes, it is possible to assign an empty string) </td> </tr>
</tbody><tfoot></tfoot></table>

<h4 id="null-handling">Null Handling</h4>

<p>AndHow does not have an explicit null value that is distinct from a property value never being set. This follows from
the fact that most property sources (property files, cmd line, etc) have no direct way to indicate a null or to
distinguish it from an empty string. The current handling is this:</p>

<ul>
<li>Attempting to set a property to an empty or all whitespace is ignored. The Trimmer trims the value to null, and null
values are considered unset. (Empty strings &amp; whitespace can be preserved for <code>StrProp</code>&rsquo;s - See above)</li>
<li>Any property that is null/unset may have a value loaded for it by a subsequent loader.</li>
<li><code>FlgProp</code> is a special case: It emulates the behavior of a command line switch so that its presence alone, even
without a value, marks its value as true.<br /></li>
</ul>

<h4 id="don-t-worry-about-property-names">Don&rsquo;t worry about Property names</h4>

<p>While many configuration frameworks are based on a user defined String key for each property, you can safely &lsquo;forget&rsquo;
about naming AndHow properties. The strings used to refer to AndHow properties in configuration files, JNDI and other
sources are the semantic paths of the Property declarations, e.g. a property named <code>Boom</code> in the class <code>three.two.One</code>
has the name <code>three.two.One.Boom</code>. That means you don&rsquo;t have to name them and the Java complier ensures there are no
naming collisions. You can still add aliases and sometimes you need to to
<a href="../legacy-apps">support for legacy applications</a>.</p>

<p>Still, typing all those names in a configuration file is a drag, so AndHow will create samples files with all of your
properties.</p>


    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/andhow/user-guide/" title="User Guide"> <i class="fa fa-chevron-left"></i><label>User Guide</label></a>
    <a class="nav nav-next" href="/andhow/user-guide/value-loaders/" title="Value Loaders" style="margin-right: 0px;"><label>Value Loaders</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

    

    
  </div>


	<div>


  
    <p><a href="https://github.com/eeverman/andhow">Source Code</a>  | <a href="https://github.com/eeverman/andhow/issues">Report an Issue</a>  |
<a href="https://twitter.com/eeverman">Questions / Suggestions</a> | <a href="../join-discussion">Ask a Question / Join the Discussion</a></p>

  



	</div>
</footer>

<script src="/andhow/js/clipboard.min.js"></script>

<link href="/andhow/css/featherlight.min.css" rel="stylesheet">
<script src="/andhow/js/featherlight.min.js"></script>



<script src="/andhow/theme-flex/script.js"></script>


    

    
    

    
  </body>
</html>